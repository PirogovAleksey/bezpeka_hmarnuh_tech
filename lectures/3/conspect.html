<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Конспект лекції 3: Архітектура нульової довіри (Zero Trust) у хмарі.">
  <meta name="author" content="Кафедра ТЕІБ, Ужгородський національний університет">
  <meta name="theme-color" content="#0ea5e9">
  <title>Конспект лекції 3 — Безпека хмарних технологій</title>
  <link rel="icon" type="image/svg+xml" href="../../img/favicon.svg">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/print.css" media="print">
  <script>
    if (localStorage.getItem('theme') === 'dark') {
      document.documentElement.classList.add('dark');
    }
  </script>
</head>
<body>

  <aside>
    <div class="logo">
      <div class="logo-icon">
        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/>
          <path d="M12 13v-1a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v1"/>
          <rect x="10" y="13" width="8" height="5" rx="1"/>
        </svg>
      </div>
      <div class="logo-text">
        Безпека<br>хмарних технологій
        <span>онлайн-курс</span>
      </div>
    </div>

    <nav>
      <a href="../../index.html" class="active">
        <span class="nav-icon"><svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg></span>
        Лекції
      </a>
      <a href="../../practicals.html">
        <span class="nav-icon"><svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></span>
        Семінари
      </a>
      <a href="../../tests.html">
        <span class="nav-icon"><svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg></span>
        Тести
      </a>
      <a href="../../materials.html">
        <span class="nav-icon"><svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg></span>
        Матеріали
      </a>
    </nav>

    <div class="sidebar-footer">
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="Перемкнути тему">
        <svg id="theme-icon" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
        <span id="theme-label">Темна тема</span>
      </button>
    </div>
  </aside>

  <main>
    <div class="lecture-nav-top">
      <a href="../../lecture.html?id=3" class="back-link">← Назад до лекції</a>
      <span class="lecture-badge">Конспект</span>
    </div>

    <article class="lecture-content">
      <h1>Лекція 3. Архітектура нульової довіри (Zero Trust) у хмарі</h1>
      <div class="lecture-info">
        <span><svg viewBox="0 0 24 24" width="14" height="14" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>2 год</span>
      </div>

      <section>
        <h2>Вступ</h2>
        <p>Сьогодні ми поговоримо про одну з найважливіших концепцій сучасної кібербезпеки — архітектуру нульової довіри, або Zero Trust Architecture (ZTA). Ця концепція радикально змінює наше уявлення про те, як потрібно будувати безпеку в сучасних IT-системах, особливо в хмарних середовищах.</p>

        <p>Традиційна модель безпеки, яку ми використовували десятиліттями, базувалася на концепції периметра. Уявіть собі середньовічний замок: високі стіни, рів з водою, підйомний міст. Усе, що всередині стін — безпечне, довірене. Усе, що зовні — потенційно вороже. Саме так працювала корпоративна безпека: firewall на периметрі, VPN для віддаленого доступу, і все, що потрапило всередину мережі, вважалося довіреним.</p>

        <p>Але цей підхід більше не працює. Чому? По-перше, периметр розмився. Співробітники працюють з дому, з кав'ярень, з готелів. Дані зберігаються в хмарі, а не в локальному дата-центрі. Партнери та підрядники потребують доступу до внутрішніх систем. По-друге, атакуючі стали розумнішими. Вони проникають всередину периметра через фішинг, компрометовані облікові записи, zero-day вразливості. І коли вони вже всередині — традиційна модель дає їм карт-бланш на переміщення по мережі.</p>

        <p>Zero Trust пропонує радикально інший підхід: <strong>"Never trust, always verify"</strong> — ніколи не довіряй, завжди перевіряй. Незалежно від того, звідки приходить запит — ззовні чи зсередини мережі — кожен запит має бути автентифікований, авторизований та зашифрований. Кожен.</p>

        <h3>Чому Zero Trust критично важливий для хмари?</h3>
        <p>У хмарному середовищі концепція периметра втрачає сенс ще більше, ніж в традиційній інфраструктурі. Ваші ресурси розподілені між кількома хмарними провайдерами, різними регіонами, різними сервісами. Ваші користувачі підключаються з будь-якої точки світу. Ваші workloads можуть автоматично масштабуватися, з'являючись і зникаючи за лічені секунди.</p>

        <p>У такому середовищі єдиний спосіб забезпечити безпеку — це перевіряти кожен запит індивідуально, базуючись на контексті: хто запитує, що запитує, звідки, коли, з якого пристрою, і чи відповідає цей запит очікуваній поведінці.</p>

        <h3>Цілі лекції</h3>
        <p>Після цієї лекції ви зможете:</p>
        <ul>
          <li>Пояснити принципи Zero Trust та їх відмінність від традиційної периметрової безпеки</li>
          <li>Описати основні компоненти архітектури Zero Trust (PEP, PDP, Policy Engine)</li>
          <li>Розуміти роль Identity Governance та сучасних методів автентифікації в ZTA</li>
          <li>Застосовувати принципи мікросегментації для захисту хмарних workloads</li>
          <li>Планувати впровадження Zero Trust у хмарному середовищі</li>
        </ul>

        <h3>Структура лекції</h3>
        <p>Ми почнемо з історії та принципів Zero Trust — чому старий підхід не працює і що прийшло на зміну. Потім розберемо архітектуру за NIST — компоненти, з яких складається ZTA. Далі зануримось у мікросегментацію — ключову техніку для обмеження руху атакуючих. Порівняємо ZTNA з традиційним VPN. І завершимо практикою — як конкретно впровадити Zero Trust на AWS, Azure та GCP.</p>
      </section>

      <section>
        <h2>3.1 Принципи та еволюція Zero Trust</h2>

        <h3>Історія виникнення концепції</h3>
        <p>Термін "Zero Trust" був вперше введений у 2010 році аналітиком Forrester Research Джоном Кіндервагом (John Kindervag). Він спостерігав, як організації витрачають мільйони на захист периметра, при цьому залишаючи внутрішню мережу практично без захисту. Його ідея була простою, але революційною: що якщо ми перестанемо довіряти всьому, що знаходиться всередині периметра, і почнемо перевіряти кожен запит?</p>

        <p>Ідея не була прийнята одразу. Багато хто вважав її параноїдальною та непрактичною. Але серія гучних зломів змінила думку індустрії:</p>

        <ul>
          <li><strong>2013 — Target:</strong> Атакуючі проникли через компрометованого підрядника системи кондиціонування, а потім безперешкодно переміщувалися по внутрішній мережі до платіжних систем. Вкрадено дані 40 мільйонів кредитних карток.</li>
          <li><strong>2014 — Sony Pictures:</strong> Після початкового проникнення атакуючі мали необмежений доступ до всієї внутрішньої мережі протягом місяців.</li>
          <li><strong>2020 — SolarWinds:</strong> Компрометоване оновлення програмного забезпечення дало атакуючим доступ до внутрішніх мереж тисяч організацій, включаючи урядові агентства США.</li>
        </ul>

        <p>У 2020 році NIST опублікував <strong>SP 800-207 "Zero Trust Architecture"</strong> — офіційний стандарт, який формалізував принципи та компоненти ZTA. Цей документ став основою для впровадження Zero Trust у федеральних агентствах США та був широко прийнятий комерційним сектором.</p>

        <h3>Основні принципи Zero Trust</h3>
        <p>NIST SP 800-207 визначає сім ключових принципів Zero Trust:</p>

        <h4>1. Усі джерела даних та обчислювальні сервіси вважаються ресурсами</h4>
        <p>У традиційній моделі ми захищали сервери та бази даних. У Zero Trust кожен елемент інфраструктури — ресурс, який потребує захисту. Це включає не лише сервери, але й пристрої користувачів, IoT-пристрої, API-endpoints, хмарні сервіси, контейнери, serverless-функції.</p>

        <h4>2. Усі комунікації захищені незалежно від розташування в мережі</h4>
        <p>Навіть якщо два сервери знаходяться в одній підмережі, комунікація між ними має бути зашифрована та автентифікована. Локальне розташування не надає жодних привілеїв. Цей принцип часто формулюють як "assume breach" — припускайте, що зловмисник вже у вашій мережі.</p>

        <h4>3. Доступ до ресурсів надається на основі сесії</h4>
        <p>Кожен запит оцінюється індивідуально. Те, що користувач отримав доступ хвилину тому, не означає, що він автоматично отримає доступ зараз. Контекст може змінитися: пристрій може бути компрометований, геолокація може стати підозрілою, поведінка може відхилятися від норми.</p>

        <h4>4. Доступ визначається динамічною політикою</h4>
        <p>Політика доступу враховує множину факторів: ідентичність користувача та сервісу, стан пристрою, поведінкові патерни, час доби, геолокацію, чутливість даних. Рішення приймається в реальному часі на основі всіх цих факторів.</p>

        <h4>5. Організація моніторить та вимірює безпеку всіх активів</h4>
        <p>Жоден пристрій не є довіреним за замовчуванням. Організація постійно моніторить стан безпеки всіх пристроїв: чи встановлені патчі, чи активний антивірус, чи є підозріла активність. Ця інформація впливає на рішення про доступ.</p>

        <h4>6. Автентифікація та авторизація динамічні та суворо застосовуються</h4>
        <p>Автентифікація — це не одноразова подія. Організація постійно переоцінює довіру до суб'єкта протягом сесії. Якщо з'являються ознаки компрометації — сесія може бути припинена або обмежена в реальному часі.</p>

        <h4>7. Організація збирає якомога більше інформації про стан активів та мережі</h4>
        <p>Дані про мережевий трафік, стан пристроїв, запити на доступ, поведінку користувачів — усе це збирається, аналізується та використовується для покращення безпекових політик. Machine learning допомагає виявляти аномалії та адаптувати політики.</p>

        <h3>Порівняння з традиційним підходом</h3>

        <!-- Diagram: Perimeter vs Zero Trust -->
        <div class="diagram">
          <div class="diagram-title">Периметрова безпека vs Zero Trust Architecture</div>
          <svg viewBox="0 0 700 250" xmlns="http://www.w3.org/2000/svg">
            <!-- Left: Perimeter Security -->
            <text class="diagram-text-bold" x="175" y="25" text-anchor="middle">Периметрова безпека</text>

            <!-- Outer perimeter (firewall) -->
            <rect fill="none" stroke="#ef4444" stroke-width="3" x="30" y="40" width="290" height="160" rx="20"/>
            <text fill="#ef4444" x="175" y="60" text-anchor="middle" font-size="11">Firewall / DMZ</text>

            <!-- Internal network - trusted zone -->
            <rect fill="#dcfce7" x="50" y="75" width="250" height="110" rx="12"/>
            <text fill="#166534" x="175" y="95" text-anchor="middle" font-size="10">"Trusted Zone"</text>

            <!-- Internal resources (no protection between them) -->
            <rect fill="var(--card)" stroke="var(--card-border)" x="70" y="110" width="60" height="50" rx="6"/>
            <text class="diagram-text-small" x="100" y="140" text-anchor="middle">Server</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="145" y="110" width="60" height="50" rx="6"/>
            <text class="diagram-text-small" x="175" y="140" text-anchor="middle">DB</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="220" y="110" width="60" height="50" rx="6"/>
            <text class="diagram-text-small" x="250" y="140" text-anchor="middle">App</text>

            <!-- Dashed lines showing free movement inside -->
            <line stroke="var(--text-secondary)" stroke-dasharray="3,3" x1="130" y1="135" x2="145" y2="135"/>
            <line stroke="var(--text-secondary)" stroke-dasharray="3,3" x1="205" y1="135" x2="220" y2="135"/>

            <text fill="#dc2626" x="175" y="175" text-anchor="middle" font-size="9">Lateral movement можливий</text>

            <!-- Attacker outside trying to get in -->
            <circle fill="#fecaca" stroke="#ef4444" cx="10" cy="120" r="15"/>
            <text fill="#ef4444" x="10" y="150" text-anchor="middle" font-size="8">Attacker</text>

            <!-- Right: Zero Trust -->
            <text class="diagram-text-bold" x="525" y="25" text-anchor="middle">Zero Trust Architecture</text>

            <!-- No outer perimeter, individual protection -->
            <rect fill="var(--bg)" x="380" y="40" width="290" height="160" rx="10"/>

            <!-- Each resource with its own protection -->
            <g transform="translate(400, 75)">
              <rect fill="#dbeafe" stroke="#3b82f6" stroke-width="2" x="0" y="0" width="75" height="65" rx="8"/>
              <rect fill="var(--card)" stroke="var(--card-border)" x="12" y="25" width="50" height="35" rx="4"/>
              <text class="diagram-text-small" x="37" y="48" text-anchor="middle">Server</text>
              <text fill="#3b82f6" x="37" y="15" text-anchor="middle" font-size="8">Policy</text>
            </g>

            <g transform="translate(487, 75)">
              <rect fill="#dbeafe" stroke="#3b82f6" stroke-width="2" x="0" y="0" width="75" height="65" rx="8"/>
              <rect fill="var(--card)" stroke="var(--card-border)" x="12" y="25" width="50" height="35" rx="4"/>
              <text class="diagram-text-small" x="37" y="48" text-anchor="middle">DB</text>
              <text fill="#3b82f6" x="37" y="15" text-anchor="middle" font-size="8">Policy</text>
            </g>

            <g transform="translate(574, 75)">
              <rect fill="#dbeafe" stroke="#3b82f6" stroke-width="2" x="0" y="0" width="75" height="65" rx="8"/>
              <rect fill="var(--card)" stroke="var(--card-border)" x="12" y="25" width="50" height="35" rx="4"/>
              <text class="diagram-text-small" x="37" y="48" text-anchor="middle">App</text>
              <text fill="#3b82f6" x="37" y="15" text-anchor="middle" font-size="8">Policy</text>
            </g>

            <!-- Verified connections with locks -->
            <line stroke="#22c55e" stroke-width="2" x1="475" y1="107" x2="487" y2="107"/>
            <line stroke="#22c55e" stroke-width="2" x1="562" y1="107" x2="574" y2="107"/>

            <text fill="#16a34a" x="525" y="175" text-anchor="middle" font-size="9">Кожен запит верифікується</text>

            <!-- Policy Decision Point -->
            <rect fill="#fef3c7" stroke="#f59e0b" stroke-width="2" x="440" y="155" width="170" height="35" rx="6"/>
            <text fill="#b45309" x="525" y="177" text-anchor="middle" font-size="10">Policy Decision Point (PDP)</text>

            <!-- VS divider -->
            <text fill="var(--text-secondary)" x="350" y="130" text-anchor="middle" font-size="18" font-weight="bold">vs</text>
          </svg>
          <div class="diagram-caption">Рис. 3.1. Порівняння периметрової моделі безпеки та Zero Trust Architecture</div>
        </div>

        <table>
          <tr>
            <th>Аспект</th>
            <th>Периметрова безпека</th>
            <th>Zero Trust</th>
          </tr>
          <tr>
            <td><strong>Модель довіри</strong></td>
            <td>Trust but verify (довіряй, але перевіряй)</td>
            <td>Never trust, always verify (ніколи не довіряй)</td>
          </tr>
          <tr>
            <td><strong>Периметр</strong></td>
            <td>Чітко визначений (firewall, DMZ)</td>
            <td>Периметр навколо кожного ресурсу</td>
          </tr>
          <tr>
            <td><strong>Внутрішня мережа</strong></td>
            <td>Довірена зона</td>
            <td>Така ж небезпечна, як зовнішня</td>
          </tr>
          <tr>
            <td><strong>Авторизація</strong></td>
            <td>На основі мережевого розташування</td>
            <td>На основі ідентичності та контексту</td>
          </tr>
          <tr>
            <td><strong>Доступ</strong></td>
            <td>Широкий після входу в мережу</td>
            <td>Мінімально необхідний (least privilege)</td>
          </tr>
          <tr>
            <td><strong>Шифрування</strong></td>
            <td>На периметрі (VPN)</td>
            <td>End-to-end для всіх комунікацій</td>
          </tr>
          <tr>
            <td><strong>Моніторинг</strong></td>
            <td>Фокус на периметрі</td>
            <td>Всеохоплюючий, безперервний</td>
          </tr>
        </table>

        <h3>Три стовпи Zero Trust</h3>
        <p>Для практичного впровадження Zero Trust можна виділити три основні напрямки:</p>

        <!-- Diagram: Three Pillars of Zero Trust -->
        <div class="diagram">
          <div class="diagram-title">Три стовпи Zero Trust Architecture</div>
          <svg viewBox="0 0 700 280" xmlns="http://www.w3.org/2000/svg">
            <!-- Base platform -->
            <rect fill="var(--card)" stroke="var(--card-border)" x="50" y="230" width="600" height="40" rx="8"/>
            <text class="diagram-text-bold" x="350" y="255" text-anchor="middle">Zero Trust Foundation: Continuous Verification</text>

            <!-- Pillar 1: Identity -->
            <g transform="translate(80, 60)">
              <rect fill="#3b82f6" x="0" y="0" width="160" height="170" rx="10"/>
              <text fill="white" x="80" y="30" text-anchor="middle" font-weight="600" font-size="14">IDENTITY</text>
              <text fill="white" x="80" y="50" text-anchor="middle" font-size="11">Ідентичність</text>
              <line stroke="white" opacity="0.3" x1="20" y1="60" x2="140" y2="60"/>
              <text fill="white" x="80" y="80" text-anchor="middle" font-size="9">MFA / Passwordless</text>
              <text fill="white" x="80" y="95" text-anchor="middle" font-size="9">SSO / Federation</text>
              <text fill="white" x="80" y="110" text-anchor="middle" font-size="9">Identity Governance</text>
              <text fill="white" x="80" y="125" text-anchor="middle" font-size="9">PAM</text>
              <text fill="white" x="80" y="140" text-anchor="middle" font-size="9">Service Identity</text>
              <svg x="55" y="145" width="50" height="30" viewBox="0 0 24 24" stroke="white" stroke-width="1.5" fill="none">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
            </g>

            <!-- Pillar 2: Device -->
            <g transform="translate(270, 60)">
              <rect fill="#22c55e" x="0" y="0" width="160" height="170" rx="10"/>
              <text fill="white" x="80" y="30" text-anchor="middle" font-weight="600" font-size="14">DEVICE</text>
              <text fill="white" x="80" y="50" text-anchor="middle" font-size="11">Пристрій</text>
              <line stroke="white" opacity="0.3" x1="20" y1="60" x2="140" y2="60"/>
              <text fill="white" x="80" y="80" text-anchor="middle" font-size="9">Device Posture</text>
              <text fill="white" x="80" y="95" text-anchor="middle" font-size="9">MDM / MAM</text>
              <text fill="white" x="80" y="110" text-anchor="middle" font-size="9">EDR / XDR</text>
              <text fill="white" x="80" y="125" text-anchor="middle" font-size="9">Certificate-based ID</text>
              <text fill="white" x="80" y="140" text-anchor="middle" font-size="9">Compliance Check</text>
              <svg x="55" y="145" width="50" height="30" viewBox="0 0 24 24" stroke="white" stroke-width="1.5" fill="none">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
              </svg>
            </g>

            <!-- Pillar 3: Network -->
            <g transform="translate(460, 60)">
              <rect fill="#f59e0b" x="0" y="0" width="160" height="170" rx="10"/>
              <text fill="white" x="80" y="30" text-anchor="middle" font-weight="600" font-size="14">NETWORK</text>
              <text fill="white" x="80" y="50" text-anchor="middle" font-size="11">Мережа</text>
              <line stroke="white" opacity="0.3" x1="20" y1="60" x2="140" y2="60"/>
              <text fill="white" x="80" y="80" text-anchor="middle" font-size="9">Microsegmentation</text>
              <text fill="white" x="80" y="95" text-anchor="middle" font-size="9">SDP / ZTNA</text>
              <text fill="white" x="80" y="110" text-anchor="middle" font-size="9">mTLS Encryption</text>
              <text fill="white" x="80" y="125" text-anchor="middle" font-size="9">East-West Security</text>
              <text fill="white" x="80" y="140" text-anchor="middle" font-size="9">Network Access Control</text>
              <svg x="55" y="145" width="50" height="30" viewBox="0 0 24 24" stroke="white" stroke-width="1.5" fill="none">
                <circle cx="12" cy="12" r="10"/>
                <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
              </svg>
            </g>

            <!-- Connecting arrows -->
            <path d="M240 145 L270 145" stroke="var(--text-secondary)" stroke-width="2" stroke-dasharray="4,4"/>
            <path d="M430 145 L460 145" stroke="var(--text-secondary)" stroke-width="2" stroke-dasharray="4,4"/>
          </svg>
          <div class="diagram-caption">Рис. 3.3. Три стовпи Zero Trust: Identity, Device та Network працюють разом для забезпечення безпеки</div>
        </div>

        <p><strong>1. Identity (Ідентичність)</strong></p>
        <p>Ідентичність — це новий периметр. Замість того, щоб запитувати "звідки приходить цей трафік?", ми запитуємо "хто робить цей запит?". Це включає:</p>
        <ul>
          <li>Сильну автентифікацію (MFA, passwordless)</li>
          <li>Single Sign-On (SSO)</li>
          <li>Identity Governance (управління життєвим циклом ідентичностей)</li>
          <li>Privileged Access Management (PAM)</li>
          <li>Service-to-service автентифікацію</li>
        </ul>

        <p><strong>2. Device (Пристрої)</strong></p>
        <p>Стан пристрою впливає на рівень довіри. Керований корпоративний пристрій з актуальними патчами отримає більший доступ, ніж особистий телефон з застарілою ОС. Це включає:</p>
        <ul>
          <li>Device posture assessment (оцінка стану пристрою)</li>
          <li>Mobile Device Management (MDM)</li>
          <li>Endpoint Detection and Response (EDR)</li>
          <li>Certificate-based device identity</li>
        </ul>

        <p><strong>3. Network (Мережа)</strong></p>
        <p>Мікросегментація замінює плоску внутрішню мережу. Кожен workload ізольований, і трафік між ними контролюється на основі політик. Це включає:</p>
        <ul>
          <li>Мікросегментацію</li>
          <li>Software-Defined Perimeter (SDP)</li>
          <li>Encrypted communications (mTLS)</li>
          <li>Network access control на основі ідентичності</li>
        </ul>
      </section>

      <section>
        <h2>3.2 Компоненти Zero Trust Architecture</h2>

        <h3>Логічна архітектура ZTA за NIST</h3>
        <p>NIST SP 800-207 визначає логічну архітектуру Zero Trust, яка складається з кількох ключових компонентів. Розуміння цих компонентів критично важливе для проєктування та впровадження ZTA.</p>

        <!-- Diagram: ZTA Logical Architecture -->
        <div class="diagram">
          <div class="diagram-title">Логічна архітектура Zero Trust (NIST SP 800-207)</div>
          <svg viewBox="0 0 700 320" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <marker id="arrow-zta" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                <polygon points="0 0, 10 3.5, 0 7" fill="var(--text-secondary)"/>
              </marker>
            </defs>

            <!-- Subject/User on the left -->
            <g transform="translate(30, 120)">
              <circle fill="var(--card)" stroke="var(--card-border)" stroke-width="2" cx="40" cy="40" r="35"/>
              <svg x="20" y="20" width="40" height="40" viewBox="0 0 24 24" stroke="var(--text)" stroke-width="1.5" fill="none">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              <text class="diagram-text-bold" x="40" y="95" text-anchor="middle">Subject</text>
              <text class="diagram-text-small" x="40" y="110" text-anchor="middle">(User/Device)</text>
            </g>

            <!-- Arrow to PEP -->
            <line stroke="var(--text-secondary)" stroke-width="2" x1="110" y1="160" x2="155" y2="160" marker-end="url(#arrow-zta)"/>
            <text class="diagram-text-small" x="132" y="150" text-anchor="middle">Request</text>

            <!-- PEP (Policy Enforcement Point) -->
            <rect fill="#dbeafe" stroke="#3b82f6" stroke-width="2" x="160" y="120" width="100" height="80" rx="10"/>
            <text fill="#1d4ed8" x="210" y="150" text-anchor="middle" font-weight="600" font-size="12">PEP</text>
            <text fill="#1d4ed8" x="210" y="165" text-anchor="middle" font-size="9">Policy</text>
            <text fill="#1d4ed8" x="210" y="177" text-anchor="middle" font-size="9">Enforcement</text>
            <text fill="#1d4ed8" x="210" y="189" text-anchor="middle" font-size="9">Point</text>

            <!-- Arrow to PDP -->
            <line stroke="var(--text-secondary)" stroke-width="2" x1="210" y1="115" x2="210" y2="60" marker-end="url(#arrow-zta)"/>
            <text class="diagram-text-small" x="230" y="90" text-anchor="start">Query</text>

            <!-- PDP (Policy Decision Point) - contains PE + PA -->
            <rect fill="#fef3c7" stroke="#f59e0b" stroke-width="2" x="120" y="10" width="180" height="50" rx="10"/>
            <text fill="#b45309" x="210" y="32" text-anchor="middle" font-weight="600" font-size="11">Policy Decision Point (PDP)</text>
            <text fill="#b45309" x="210" y="48" text-anchor="middle" font-size="9">PE (Engine) + PA (Administrator)</text>

            <!-- Arrow back from PDP -->
            <path d="M 300 35 Q 330 35 330 90 L 330 160 L 265 160" stroke="var(--text-secondary)" stroke-width="2" fill="none" marker-end="url(#arrow-zta)"/>
            <text class="diagram-text-small" x="340" y="100" text-anchor="start">Decision</text>

            <!-- Arrow to Resource -->
            <line stroke="#22c55e" stroke-width="2" x1="265" y1="160" x2="400" y2="160" marker-end="url(#arrow-zta)"/>
            <text fill="#16a34a" x="332" y="150" text-anchor="middle" font-size="10">Allowed</text>

            <!-- Resource on the right -->
            <g transform="translate(405, 120)">
              <rect fill="#dcfce7" stroke="#22c55e" stroke-width="2" x="0" y="0" width="80" height="80" rx="10"/>
              <svg x="20" y="15" width="40" height="40" viewBox="0 0 24 24" stroke="#166534" stroke-width="1.5" fill="none">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
              </svg>
              <text fill="#166534" x="40" y="70" text-anchor="middle" font-weight="500" font-size="10">Resource</text>
            </g>

            <!-- Data feeds on the right side -->
            <text class="diagram-text-bold" x="580" y="30" text-anchor="middle">Data Sources</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="520" y="45" width="120" height="30" rx="6"/>
            <text class="diagram-text-small" x="580" y="65" text-anchor="middle">CDM / Compliance</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="520" y="80" width="120" height="30" rx="6"/>
            <text class="diagram-text-small" x="580" y="100" text-anchor="middle">Threat Intelligence</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="520" y="115" width="120" height="30" rx="6"/>
            <text class="diagram-text-small" x="580" y="135" text-anchor="middle">Activity Logs</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="520" y="150" width="120" height="30" rx="6"/>
            <text class="diagram-text-small" x="580" y="170" text-anchor="middle">IdP / Directory</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="520" y="185" width="120" height="30" rx="6"/>
            <text class="diagram-text-small" x="580" y="205" text-anchor="middle">SIEM / Analytics</text>

            <!-- Arrows from data sources to PDP -->
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="4,4" x1="520" y1="60" x2="300" y2="35"/>
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="4,4" x1="520" y1="95" x2="300" y2="35"/>
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="4,4" x1="520" y1="130" x2="300" y2="35"/>
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="4,4" x1="520" y1="165" x2="300" y2="35"/>
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="4,4" x1="520" y1="200" x2="300" y2="35"/>

            <!-- Legend at bottom -->
            <text class="diagram-text-small" x="350" y="250" text-anchor="middle">PEP — точка застосування політик (proxy, gateway)</text>
            <text class="diagram-text-small" x="350" y="268" text-anchor="middle">PDP — точка прийняття рішень (PE аналізує, PA виконує)</text>
            <text class="diagram-text-small" x="350" y="286" text-anchor="middle">Рішення приймається на основі контексту та множини джерел даних</text>
          </svg>
          <div class="diagram-caption">Рис. 3.2. Логічні компоненти Zero Trust Architecture за NIST SP 800-207</div>
        </div>

        <h4>Policy Engine (PE) — Механізм політик</h4>
        <p>Policy Engine — це "мозок" системи Zero Trust. Він приймає остаточне рішення про надання або відмову в доступі. PE аналізує вхідні дані з різних джерел:</p>
        <ul>
          <li><strong>Subject (суб'єкт):</strong> хто запитує доступ — користувач, сервіс, пристрій</li>
          <li><strong>Resource (ресурс):</strong> до чого запитується доступ — дані, додаток, сервіс</li>
          <li><strong>Context (контекст):</strong> час, геолокація, тип мережі, стан пристрою</li>
          <li><strong>Threat intelligence:</strong> чи є суб'єкт або IP у списках загроз</li>
          <li><strong>Behavioral analytics:</strong> чи відповідає запит нормальній поведінці</li>
        </ul>

        <p>На основі цих даних PE консультується з політиками організації та приймає рішення: дозволити, заборонити, або дозволити з умовами (наприклад, вимагати додаткову автентифікацію).</p>

        <h4>Policy Administrator (PA) — Адміністратор політик</h4>
        <p>Policy Administrator виконує рішення Policy Engine. Якщо PE вирішив дозволити доступ, PA налаштовує шлях комунікації:</p>
        <ul>
          <li>Створює сесійні токени або облікові дані</li>
          <li>Налаштовує Policy Enforcement Point для пропуску трафіку</li>
          <li>Може вказати часові обмеження для сесії</li>
          <li>Логує рішення для аудиту</li>
        </ul>

        <p>Якщо PE вирішив відмовити — PA інструктує PEP заблокувати запит.</p>

        <h4>Policy Enforcement Point (PEP) — Точка застосування політик</h4>
        <p>PEP — це "двері" до кожного ресурсу. Будь-який запит до захищеного ресурсу має пройти через PEP. PEP виконує наступні функції:</p>
        <ul>
          <li>Перехоплює всі запити до ресурсу</li>
          <li>Передає інформацію про запит до PA/PE для рішення</li>
          <li>Застосовує рішення: пропускає або блокує трафік</li>
          <li>Може виконувати шифрування/дешифрування трафіку</li>
          <li>Логує всі спроби доступу</li>
        </ul>

        <p>У хмарному середовищі PEP може бути реалізований як:</p>
        <ul>
          <li>API Gateway</li>
          <li>Service Mesh sidecar (Envoy, Istio)</li>
          <li>Cloud-native proxy (AWS PrivateLink, Azure Private Endpoint)</li>
          <li>ZTNA connector (Zscaler, Cloudflare Access)</li>
        </ul>

        <h3>Допоміжні компоненти</h3>

        <h4>Continuous Diagnostics and Mitigation (CDM) System</h4>
        <p>Система CDM збирає інформацію про стан безпеки активів організації:</p>
        <ul>
          <li>Інвентаризація всіх пристроїв та програмного забезпечення</li>
          <li>Стан патчів та оновлень</li>
          <li>Конфігурації безпеки</li>
          <li>Виявлені вразливості</li>
        </ul>
        <p>Ця інформація передається до Policy Engine для прийняття рішень. Наприклад, якщо CDM повідомляє, що пристрій користувача не має критичного патча, PE може обмежити доступ до чутливих ресурсів.</p>

        <h4>Industry Compliance</h4>
        <p>Компонент, який забезпечує відповідність регуляторним вимогам:</p>
        <ul>
          <li>PCI DSS для платіжних даних</li>
          <li>HIPAA для медичних даних</li>
          <li>GDPR для персональних даних</li>
          <li>SOC 2 для сервіс-провайдерів</li>
        </ul>
        <p>Політики доступу можуть автоматично враховувати compliance-вимоги: наприклад, доступ до даних, що підпадають під GDPR, може бути обмежений за геолокацією.</p>

        <h4>Threat Intelligence</h4>
        <p>Зовнішні та внутрішні джерела інформації про загрози:</p>
        <ul>
          <li>Списки шкідливих IP-адрес та доменів</li>
          <li>Індикатори компрометації (IoC)</li>
          <li>Інформація про активні кампанії атак</li>
          <li>Вразливості нульового дня</li>
        </ul>
        <p>Якщо запит приходить з IP, який асоціюється з ботнетом, PE може автоматично заблокувати його.</p>

        <h4>Security Information and Event Management (SIEM)</h4>
        <p>SIEM збирає та аналізує логи з усіх компонентів:</p>
        <ul>
          <li>Рішення про доступ від PE</li>
          <li>Спроби доступу на PEP</li>
          <li>Автентифікаційні події</li>
          <li>Мережевий трафік</li>
        </ul>
        <p>Аналітика в SIEM може виявити патерни атак та надати інформацію для покращення політик.</p>

        <h4>Data Access Policy</h4>
        <p>Політики, специфічні для даних:</p>
        <ul>
          <li>Класифікація даних (public, internal, confidential, restricted)</li>
          <li>Правила доступу на основі класифікації</li>
          <li>Data Loss Prevention (DLP) правила</li>
          <li>Шифрування на рівні даних</li>
        </ul>

        <h3>Identity Provider (IdP) та Identity Governance</h3>
        <p>Identity Provider — критично важливий компонент ZTA, адже ідентичність є основою для прийняття рішень про доступ.</p>

        <h4>Функції IdP у Zero Trust</h4>
        <ul>
          <li><strong>Автентифікація:</strong> Підтвердження, що користувач є тим, за кого себе видає</li>
          <li><strong>Федерація:</strong> Довіра до ідентичностей з інших організацій</li>
          <li><strong>Token issuance:</strong> Видача токенів (SAML, OIDC, OAuth) для доступу до ресурсів</li>
          <li><strong>Session management:</strong> Управління сесіями та їх валідація</li>
        </ul>

        <h4>Multi-Factor Authentication (MFA)</h4>
        <p>MFA — обов'язковий компонент Zero Trust. Одного пароля недостатньо. Фактори автентифікації:</p>
        <ul>
          <li><strong>Something you know:</strong> пароль, PIN</li>
          <li><strong>Something you have:</strong> телефон, hardware token (YubiKey)</li>
          <li><strong>Something you are:</strong> біометрія (відбиток пальця, Face ID)</li>
          <li><strong>Somewhere you are:</strong> геолокація</li>
          <li><strong>Something you do:</strong> поведінкова біометрія (як ви друкуєте)</li>
        </ul>

        <p>Сучасний тренд — <strong>passwordless authentication</strong>: замість пароля використовується комбінація пристрою та біометрії (FIDO2/WebAuthn).</p>

        <h4>Conditional Access</h4>
        <p>Conditional Access — це механізм, який дозволяє застосовувати різні вимоги автентифікації залежно від контексту:</p>
        <ul>
          <li>Запит з корпоративного пристрою з офісу → достатньо SSO</li>
          <li>Запит з невідомого пристрою → вимагати MFA</li>
          <li>Запит до фінансових даних → вимагати MFA + device compliance</li>
          <li>Запит з країни з високим ризиком → заблокувати або вимагати додаткову верифікацію</li>
        </ul>

        <h3>Service-to-Service Identity</h3>
        <p>Zero Trust стосується не лише людей. Сервіси також повинні автентифікуватися один до одного.</p>

        <h4>Service Accounts</h4>
        <p>Традиційний підхід — сервісні акаунти з паролями. Проблеми:</p>
        <ul>
          <li>Паролі потрібно зберігати в коді або конфігурації</li>
          <li>Ротація паролів складна</li>
          <li>Важко відстежити, який сервіс використовує акаунт</li>
        </ul>

        <h4>Workload Identity</h4>
        <p>Сучасний підхід — workload identity:</p>
        <ul>
          <li><strong>AWS:</strong> IAM Roles for Service Accounts (IRSA)</li>
          <li><strong>Azure:</strong> Managed Identities</li>
          <li><strong>GCP:</strong> Workload Identity</li>
          <li><strong>Kubernetes:</strong> Service Account Tokens, SPIFFE/SPIRE</li>
        </ul>
        <p>Workload отримує ідентичність автоматично, без збереження секретів у коді. Це значно зменшує ризик витоку облікових даних.</p>

        <h4>SPIFFE/SPIRE</h4>
        <p><strong>SPIFFE</strong> (Secure Production Identity Framework for Everyone) — відкритий стандарт для ідентичності workloads. <strong>SPIRE</strong> — його імплементація.</p>
        <p>Кожен workload отримує SVID (SPIFFE Verifiable Identity Document) — криптографічно підписану ідентичність. Це дозволяє workloads автентифікуватися один до одного без shared secrets.</p>
      </section>

      <section>
        <h2>3.3 Мікросегментація мережі</h2>

        <h3>Що таке мікросегментація?</h3>
        <p>Мікросегментація — це техніка мережевої безпеки, яка розділяє мережу на маленькі ізольовані сегменти, кожен зі своїми політиками безпеки. На відміну від традиційної сегментації на рівні VLAN, мікросегментація працює на рівні окремих workloads.</p>

        <p>Уявіть традиційну мережу як великий відкритий офіс — кожен може підійти до кожного. Мікросегментація перетворює це на систему окремих кабінетів з контрольованим доступом до кожного.</p>

        <h4>Чому мікросегментація важлива?</h4>
        <ul>
          <li><strong>Обмеження lateral movement:</strong> Якщо атакуючий компрометує один workload, він не може легко переміститися до інших</li>
          <li><strong>Зменшення blast radius:</strong> Наслідки інциденту обмежені одним сегментом</li>
          <li><strong>Compliance:</strong> Ізоляція чутливих даних від решти інфраструктури</li>
          <li><strong>Видимість:</strong> Краще розуміння трафіку між компонентами</li>
        </ul>

        <h3>Підходи до мікросегментації</h3>

        <h4>1. Network-based мікросегментація</h4>
        <p>Використовує мережеві засоби для ізоляції:</p>
        <ul>
          <li><strong>VLANs та ACLs:</strong> Традиційний підхід, але складний для масштабування</li>
          <li><strong>Software-Defined Networking (SDN):</strong> Програмне управління мережею (VMware NSX, Cisco ACI)</li>
          <li><strong>Cloud Security Groups:</strong> AWS Security Groups, Azure NSGs, GCP Firewall Rules</li>
        </ul>

        <h4>2. Host-based мікросегментація</h4>
        <p>Політики застосовуються на самих хостах:</p>
        <ul>
          <li>Host-based firewalls (iptables, Windows Firewall)</li>
          <li>Endpoint agents (Illumio, Guardicore)</li>
          <li>Kubernetes Network Policies</li>
        </ul>

        <h4>3. Application-based мікросегментація</h4>
        <p>Політики на рівні додатків:</p>
        <ul>
          <li>Service Mesh (Istio, Linkerd, Consul Connect)</li>
          <li>Application-layer firewalls</li>
          <li>API Gateways</li>
        </ul>

        <h3>Мікросегментація в Kubernetes</h3>
        <p>Kubernetes надає потужні інструменти для мікросегментації:</p>

        <h4>Network Policies</h4>
        <p>Kubernetes Network Policies дозволяють визначити, який трафік дозволено між pods:</p>
        <pre>
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-frontend-to-backend
spec:
  podSelector:
    matchLabels:
      app: backend
  policyTypes:
  - Ingress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          app: frontend
    ports:
    - protocol: TCP
      port: 8080
        </pre>
        <p>Ця політика дозволяє трафік до pods з міткою "app: backend" тільки від pods з міткою "app: frontend" на порт 8080. Весь інший вхідний трафік блокується.</p>

        <h4>Service Mesh</h4>
        <p>Service Mesh, як Istio, надає ще потужніші можливості:</p>
        <ul>
          <li><strong>mTLS:</strong> Автоматичне взаємне TLS-шифрування між усіма сервісами</li>
          <li><strong>Authorization Policies:</strong> Політики на основі ідентичності сервісу</li>
          <li><strong>Traffic management:</strong> Контроль трафіку на рівні L7</li>
          <li><strong>Observability:</strong> Детальна видимість трафіку</li>
        </ul>

        <pre>
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: backend-policy
spec:
  selector:
    matchLabels:
      app: backend
  rules:
  - from:
    - source:
        principals: ["cluster.local/ns/default/sa/frontend"]
    to:
    - operation:
        methods: ["GET", "POST"]
        paths: ["/api/*"]
        </pre>
        <p>Ця політика Istio дозволяє тільки сервісу з service account "frontend" виконувати GET та POST запити до шляхів "/api/*" на backend.</p>

        <h3>Мікросегментація в хмарі</h3>

        <h4>AWS</h4>
        <ul>
          <li><strong>Security Groups:</strong> Stateful firewall на рівні EC2 instances</li>
          <li><strong>Network ACLs:</strong> Stateless firewall на рівні subnet</li>
          <li><strong>VPC Endpoints:</strong> Private connectivity до AWS сервісів</li>
          <li><strong>AWS PrivateLink:</strong> Private connectivity між VPCs та сервісами</li>
        </ul>

        <h4>Azure</h4>
        <ul>
          <li><strong>Network Security Groups (NSG):</strong> Firewall правила для subnets та NICs</li>
          <li><strong>Application Security Groups (ASG):</strong> Логічне групування VM для правил</li>
          <li><strong>Azure Firewall:</strong> Managed cloud firewall</li>
          <li><strong>Private Endpoints:</strong> Private connectivity до Azure сервісів</li>
        </ul>

        <h4>GCP</h4>
        <ul>
          <li><strong>VPC Firewall Rules:</strong> Firewall на рівні VPC з тегами</li>
          <li><strong>Hierarchical Firewall Policies:</strong> Централізоване управління firewall</li>
          <li><strong>Private Google Access:</strong> Private connectivity до Google сервісів</li>
          <li><strong>VPC Service Controls:</strong> Security perimeter для GCP сервісів</li>
        </ul>

        <h3>Best Practices мікросегментації</h3>

        <h4>1. Почніть з моніторингу</h4>
        <p>Перш ніж сегментувати, зрозумійте поточні потоки трафіку. Використовуйте flow logs, network monitoring для побудови карти залежностей.</p>

        <h4>2. Default Deny</h4>
        <p>Застосуйте політику "заборонено все, що явно не дозволено". Це фундаментальний принцип Zero Trust.</p>

        <h4>3. Least Privilege</h4>
        <p>Дозволяйте тільки той трафік, який необхідний для роботи. Не відкривайте весь діапазон портів "на всякий випадок".</p>

        <h4>4. Сегментація за чутливістю даних</h4>
        <p>Workloads, що обробляють чутливі дані (PII, фінансові дані), мають бути в окремих сегментах з посиленим контролем.</p>

        <h4>5. Automation</h4>
        <p>Ручне управління тисячами правил неможливе. Використовуйте Infrastructure as Code (Terraform, Pulumi) та policy-as-code.</p>

        <h4>6. Continuous Validation</h4>
        <p>Регулярно перевіряйте, що політики працюють як очікується. Використовуйте інструменти для тестування network policies.</p>

        <!-- Diagram: Microsegmentation Approach -->
        <div class="diagram">
          <div class="diagram-title">Мікросегментація: від плоскої мережі до ізольованих сегментів</div>
          <svg viewBox="0 0 700 240" xmlns="http://www.w3.org/2000/svg">
            <!-- Left: Flat Network -->
            <text class="diagram-text-bold" x="170" y="25" text-anchor="middle">До: Плоска мережа</text>

            <rect fill="#fee2e2" stroke="#ef4444" stroke-width="2" x="30" y="40" width="280" height="180" rx="12"/>

            <!-- Servers in flat network - all connected -->
            <rect fill="var(--card)" stroke="var(--card-border)" x="50" y="60" width="50" height="40" rx="4"/>
            <text class="diagram-text-small" x="75" y="85" text-anchor="middle">Web</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="120" y="60" width="50" height="40" rx="4"/>
            <text class="diagram-text-small" x="145" y="85" text-anchor="middle">API</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="190" y="60" width="50" height="40" rx="4"/>
            <text class="diagram-text-small" x="215" y="85" text-anchor="middle">DB</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="50" y="120" width="50" height="40" rx="4"/>
            <text class="diagram-text-small" x="75" y="145" text-anchor="middle">Admin</text>

            <rect fill="var(--card)" stroke="var(--card-border)" x="120" y="120" width="50" height="40" rx="4"/>
            <text class="diagram-text-small" x="145" y="145" text-anchor="middle">Dev</text>

            <rect fill="#fecaca" stroke="#ef4444" x="190" y="120" width="50" height="40" rx="4"/>
            <text fill="#dc2626" x="215" y="145" text-anchor="middle" font-size="10">Attacker</text>

            <!-- All-to-all connections in flat network -->
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="2,2" x1="75" y1="100" x2="145" y2="100"/>
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="2,2" x1="145" y1="100" x2="215" y2="100"/>
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="2,2" x1="75" y1="100" x2="75" y2="120"/>
            <line stroke="var(--text-secondary)" stroke-width="1" stroke-dasharray="2,2" x1="145" y1="100" x2="145" y2="120"/>
            <line stroke="#ef4444" stroke-width="2" x1="215" y1="100" x2="215" y2="120"/>
            <line stroke="#ef4444" stroke-width="2" x1="170" y1="140" x2="190" y2="140"/>

            <text fill="#dc2626" x="170" y="200" text-anchor="middle" font-size="10">Lateral movement можливий</text>
            <text fill="#dc2626" x="170" y="215" text-anchor="middle" font-size="10">до всіх ресурсів!</text>

            <!-- Arrow -->
            <text fill="var(--accent)" x="350" y="135" text-anchor="middle" font-size="24">&#8594;</text>

            <!-- Right: Microsegmented Network -->
            <text class="diagram-text-bold" x="530" y="25" text-anchor="middle">Після: Мікросегментація</text>

            <rect fill="#dcfce7" stroke="#22c55e" stroke-width="2" x="390" y="40" width="280" height="180" rx="12"/>

            <!-- Segment 1: Web tier -->
            <rect fill="#dbeafe" stroke="#3b82f6" x="405" y="55" width="75" height="50" rx="6"/>
            <rect fill="var(--card)" stroke="var(--card-border)" x="415" y="65" width="55" height="30" rx="4"/>
            <text class="diagram-text-small" x="442" y="85" text-anchor="middle">Web</text>

            <!-- Segment 2: API tier -->
            <rect fill="#dbeafe" stroke="#3b82f6" x="495" y="55" width="75" height="50" rx="6"/>
            <rect fill="var(--card)" stroke="var(--card-border)" x="505" y="65" width="55" height="30" rx="4"/>
            <text class="diagram-text-small" x="532" y="85" text-anchor="middle">API</text>

            <!-- Segment 3: DB tier -->
            <rect fill="#fef3c7" stroke="#f59e0b" x="585" y="55" width="75" height="50" rx="6"/>
            <rect fill="var(--card)" stroke="var(--card-border)" x="595" y="65" width="55" height="30" rx="4"/>
            <text class="diagram-text-small" x="622" y="85" text-anchor="middle">DB</text>

            <!-- Segment 4: Admin (isolated) -->
            <rect fill="#fce7f3" stroke="#ec4899" x="405" y="120" width="75" height="50" rx="6"/>
            <rect fill="var(--card)" stroke="var(--card-border)" x="415" y="130" width="55" height="30" rx="4"/>
            <text class="diagram-text-small" x="442" y="150" text-anchor="middle">Admin</text>

            <!-- Segment 5: Dev (isolated) -->
            <rect fill="#e0e7ff" stroke="#6366f1" x="495" y="120" width="75" height="50" rx="6"/>
            <rect fill="var(--card)" stroke="var(--card-border)" x="505" y="130" width="55" height="30" rx="4"/>
            <text class="diagram-text-small" x="532" y="150" text-anchor="middle">Dev</text>

            <!-- Attacker blocked -->
            <rect fill="#fecaca" stroke="#ef4444" x="585" y="120" width="75" height="50" rx="6"/>
            <text fill="#dc2626" x="622" y="145" text-anchor="middle" font-size="9">Attacker</text>
            <text fill="#dc2626" x="622" y="158" text-anchor="middle" font-size="8">BLOCKED</text>

            <!-- Controlled connections -->
            <line stroke="#22c55e" stroke-width="2" x1="480" y1="80" x2="495" y2="80"/>
            <line stroke="#22c55e" stroke-width="2" x1="570" y1="80" x2="585" y2="80"/>

            <text fill="#166534" x="530" y="200" text-anchor="middle" font-size="10">Контрольовані з'єднання,</text>
            <text fill="#166534" x="530" y="215" text-anchor="middle" font-size="10">lateral movement заблоковано</text>
          </svg>
          <div class="diagram-caption">Рис. 3.4. Мікросегментація обмежує lateral movement, ізолюючи кожен сегмент мережі</div>
        </div>

        <h3>Порівняння підходів до мікросегментації</h3>
        <table>
          <tr>
            <th>Підхід</th>
            <th>Інструменти</th>
            <th>Переваги</th>
            <th>Недоліки</th>
          </tr>
          <tr>
            <td><strong>Network-based</strong></td>
            <td>VLANs, ACLs, SDN (NSX, ACI)</td>
            <td>Не залежить від workload, legacy support</td>
            <td>Складність управління, IP-based</td>
          </tr>
          <tr>
            <td><strong>Host-based</strong></td>
            <td>iptables, Windows Firewall, agents</td>
            <td>Granular control, workload-aware</td>
            <td>Agent overhead, deployment складність</td>
          </tr>
          <tr>
            <td><strong>Service Mesh</strong></td>
            <td>Istio, Linkerd, Consul</td>
            <td>L7 policies, mTLS, observability</td>
            <td>Kubernetes-specific, learning curve</td>
          </tr>
          <tr>
            <td><strong>Cloud-native</strong></td>
            <td>Security Groups, NSGs</td>
            <td>Native integration, easy to use</td>
            <td>Cloud-specific, limited cross-cloud</td>
          </tr>
        </table>
      </section>

      <section>
        <h2>3.4 Впровадження Zero Trust у хмарі</h2>

        <h3>Етапи впровадження</h3>
        <p>Впровадження Zero Trust — це не проєкт на кілька тижнів, а стратегічна трансформація, яка може тривати роки. CISA (Cybersecurity and Infrastructure Security Agency) рекомендує поетапний підхід:</p>

        <h4>Етап 1: Ідентифікація та інвентаризація</h4>
        <ul>
          <li>Інвентаризація всіх активів: користувачі, пристрої, додатки, дані</li>
          <li>Класифікація даних за чутливістю</li>
          <li>Mapping критичних бізнес-процесів та їхніх залежностей</li>
          <li>Ідентифікація "protect surfaces" — критичних активів, які потрібно захистити насамперед</li>
        </ul>

        <h4>Етап 2: Картографування потоків</h4>
        <ul>
          <li>Документування всіх потоків даних та мережевого трафіку</li>
          <li>Розуміння, хто потребує доступу до чого</li>
          <li>Виявлення застарілих або непотрібних доступів</li>
          <li>Ідентифікація потенційних точок для PEP</li>
        </ul>

        <h4>Етап 3: Архітектура та дизайн</h4>
        <ul>
          <li>Вибір компонентів (IdP, PEP, SIEM)</li>
          <li>Проєктування політик на основі принципу least privilege</li>
          <li>Планування мікросегментації</li>
          <li>Інтеграція з існуючою інфраструктурою</li>
        </ul>

        <h4>Етап 4: Пілотне впровадження</h4>
        <ul>
          <li>Вибір обмеженого scope для пілота</li>
          <li>Впровадження у режимі моніторингу (alert-only)</li>
          <li>Збір зворотного зв'язку від користувачів</li>
          <li>Ітеративне покращення політик</li>
        </ul>

        <h4>Етап 5: Розширення та enforcement</h4>
        <ul>
          <li>Поступове розширення на інші системи</li>
          <li>Перехід від alert-only до enforcement mode</li>
          <li>Автоматизація процесів</li>
          <li>Безперервний моніторинг та оптимізація</li>
        </ul>

        <h3>Zero Trust в AWS</h3>
        <p>AWS пропонує набір сервісів для побудови ZTA. Хоча AWS не має єдиного "Zero Trust продукту", комбінація наступних сервісів дозволяє побудувати повноцінну архітектуру нульової довіри:</p>

        <h4>Identity — фундамент ZTA на AWS</h4>
        <p>В AWS Zero Trust починається з IAM. Кожен запит до будь-якого ресурсу автентифікується та авторизується через IAM-систему.</p>
        <ul>
          <li><strong>AWS IAM:</strong> Управління ідентичностями та доступом. IAM policies використовують JSON для визначення детальних дозволів (хто, що, де, коли). Підтримує conditions — наприклад, дозволити доступ лише з певної IP або лише з MFA.</li>
          <li><strong>AWS IAM Identity Center (SSO):</strong> Централізований SSO для всіх AWS-акаунтів та бізнес-додатків. Інтеграція з Active Directory, Okta, OneLogin.</li>
          <li><strong>AWS Organizations + SCPs:</strong> Service Control Policies дозволяють встановити "guardrails" на рівні організації — заборонити певні дії навіть для root-акаунту.</li>
          <li><strong>Amazon Cognito:</strong> Identity для кінцевих користувачів додатків. User pools, federation, MFA.</li>
        </ul>

        <h4>Network — мікросегментація та ізоляція</h4>
        <ul>
          <li><strong>Security Groups:</strong> Stateful firewall на рівні ENI (мережевого інтерфейсу). Працює як PEP — дозволяє лише явно прописаний трафік.</li>
          <li><strong>VPC:</strong> Ізольовані мережеві середовища. Кожен workload — у своєму VPC або subnet.</li>
          <li><strong>AWS PrivateLink:</strong> Private connectivity між VPC та сервісами без виходу в інтернет. Критичний для Zero Trust — трафік залишається в мережі AWS.</li>
          <li><strong>AWS Network Firewall:</strong> Managed IDS/IPS з підтримкою Suricata rules. Дозволяє інспектувати трафік на рівні L3-L7.</li>
        </ul>

        <h4>Application — Zero Trust доступ до додатків</h4>
        <ul>
          <li><strong>AWS Verified Access:</strong> ZTNA-рішення від AWS. Дозволяє надавати доступ до internal-додатків без VPN, на основі ідентичності та device posture. По суті, це PEP для корпоративних додатків.</li>
          <li><strong>AWS WAF:</strong> Web Application Firewall з rate limiting, geo-blocking, managed rule groups (OWASP Top 10, Bot Control).</li>
          <li><strong>Amazon API Gateway:</strong> API management з автентифікацією через Cognito, IAM або Lambda Authorizers. Кожен API-виклик — окреме рішення про доступ.</li>
        </ul>

        <h4>Data — захист даних у спокої та русі</h4>
        <ul>
          <li><strong>AWS KMS:</strong> Управління ключами шифрування. Customer-managed keys (CMK) дають повний контроль над шифруванням. Підтримує автоматичну ротацію ключів.</li>
          <li><strong>AWS Secrets Manager:</strong> Управління секретами (DB passwords, API keys) з автоматичною ротацією.</li>
          <li><strong>Amazon Macie:</strong> ML-based виявлення та класифікація чутливих даних (PII, фінансові дані) у S3. Важливий для data-centric Zero Trust.</li>
        </ul>

        <h3>Zero Trust в Azure</h3>
        <p>Microsoft — один з найактивніших прихильників Zero Trust серед хмарних провайдерів. Компанія не лише пропонує інструменти, але й сама впровадила Zero Trust для 200,000+ своїх співробітників. Azure має, мабуть, найзрілішу та найінтегрованішу екосистему Zero Trust серед трьох провайдерів.</p>

        <h4>Identity — найсильніша сторона Azure</h4>
        <p>Entra ID (колишній Azure AD) — це серце Zero Trust в Azure. Він не просто автентифікує, а приймає контекстні рішення про доступ.</p>
        <ul>
          <li><strong>Microsoft Entra ID:</strong> Cloud-native IdP з підтримкою 300,000+ SaaS-додатків. SSO, MFA, passwordless authentication (FIDO2, Windows Hello).</li>
          <li><strong>Conditional Access:</strong> Серце Zero Trust в Azure — policy engine, який приймає рішення на основі: хто (user/group), що (додаток), звідки (IP, country), з чого (device compliance), рівень ризику (real-time risk detection). Наприклад: "дозволити доступ до SharePoint лише з compliant devices, з MFA, якщо risk level < medium".</li>
          <li><strong>Privileged Identity Management (PIM):</strong> Just-in-time та just-enough privileged access. Адмін не має постійних привілеїв — він активує роль на обмежений час (наприклад, 4 години) з обґрунтуванням та MFA.</li>
          <li><strong>Entra Verified ID:</strong> Decentralized identity на основі verifiable credentials — нова парадигма для cross-organization identity.</li>
        </ul>

        <h4>Device — endpoint як фактор довіри</h4>
        <p>В Azure Zero Trust пристрій — повноцінний учасник рішення про доступ. Некомплаєнтний пристрій не отримає доступ, навіть якщо credentials правильні.</p>
        <ul>
          <li><strong>Microsoft Intune:</strong> MDM/MAM — управління пристроями, compliance policies (шифрування, оновлення ОС, антивірус).</li>
          <li><strong>Microsoft Defender for Endpoint:</strong> EDR з risk scoring для кожного пристрою. Інтегрується з Conditional Access — скомпрометований пристрій автоматично втрачає доступ.</li>
          <li><strong>Entra Device Registration:</strong> Device identity — кожен пристрій реєструється та отримує сертифікат.</li>
        </ul>

        <h4>Network — мережеві компоненти</h4>
        <ul>
          <li><strong>Azure Firewall:</strong> Managed cloud firewall з threat intelligence feed та TLS inspection.</li>
          <li><strong>NSG/ASG:</strong> Network Security Groups для мікросегментації на рівні subnet та NIC. Application Security Groups — логічне групування ресурсів.</li>
          <li><strong>Azure Private Link:</strong> Private connectivity до PaaS-сервісів — трафік не виходить у публічний інтернет.</li>
          <li><strong>Azure Front Door:</strong> Global load balancer з вбудованим WAF та DDoS protection. Може виступати як PEP для web-додатків.</li>
        </ul>

        <h3>Zero Trust в GCP</h3>
        <p>Google — це компанія, яка впровадила Zero Trust задовго до того, як цей термін став модним. Після атаки Operation Aurora у 2009 році (китайська APT проникла у внутрішню мережу Google) компанія розпочала проєкт BeyondCorp — перебудову всієї корпоративної безпеки на принципах Zero Trust. BeyondCorp став основою для комерційних продуктів GCP.</p>

        <h4>BeyondCorp Enterprise — повне рішення</h4>
        <p>BeyondCorp Enterprise — це не окремий продукт, а інтегрований набір можливостей, вбудованих у Chrome та Google Cloud:</p>
        <ul>
          <li><strong>Identity-Aware Proxy (IAP):</strong> Zero Trust access до додатків, що працюють на GCP, on-premise або в іншій хмарі. Кожен HTTP-запит перевіряється — хто, з якого пристрою, з яким контекстом. VPN не потрібен.</li>
          <li><strong>Access Context Manager:</strong> Conditional access policies з гранулярними умовами: IP range, device OS, screen lock status, encryption status.</li>
          <li><strong>Endpoint Verification:</strong> Chrome extension, що збирає інформацію про стан пристрою (OS version, disk encryption, screen lock) та передає в Access Context Manager.</li>
          <li><strong>Certificate-Based Access:</strong> mTLS для service-to-service та device-to-service комунікації.</li>
        </ul>

        <h4>Інші компоненти ZTA на GCP</h4>
        <ul>
          <li><strong>Cloud Identity:</strong> IdP для Google Cloud з підтримкою SSO, MFA, security keys.</li>
          <li><strong>VPC Service Controls:</strong> Security perimeters навколо GCP-сервісів. Запобігає data exfiltration навіть якщо credentials скомпрометовані — дані не можуть "вийти" за межі периметра.</li>
          <li><strong>Binary Authorization:</strong> Дозволяє запуск лише підписаних container images. Важливий компонент Zero Trust для CI/CD — гарантує, що в production потрапляє тільки перевірений код.</li>
          <li><strong>Workload Identity Federation:</strong> Дозволяє workloads з інших хмар (AWS, Azure) або on-premise автентифікуватися в GCP без service account keys.</li>
        </ul>

        <h4>Порівняння підходів провайдерів до Zero Trust</h4>
        <table>
          <tr>
            <th>Аспект</th>
            <th>AWS</th>
            <th>Azure</th>
            <th>GCP</th>
          </tr>
          <tr>
            <td><strong>Підхід</strong></td>
            <td>Набір сервісів — будуєте самі</td>
            <td>Інтегрована екосистема</td>
            <td>BeyondCorp — готове рішення</td>
          </tr>
          <tr>
            <td><strong>Найсильніше</strong></td>
            <td>Granular IAM policies</td>
            <td>Conditional Access + Device</td>
            <td>IAP + Chrome integration</td>
          </tr>
          <tr>
            <td><strong>ZTNA рішення</strong></td>
            <td>Verified Access</td>
            <td>Entra Private Access</td>
            <td>Identity-Aware Proxy</td>
          </tr>
          <tr>
            <td><strong>Зрілість</strong></td>
            <td>Висока (по частинах)</td>
            <td>Найвища (інтеграція)</td>
            <td>Висока (піонер ZT)</td>
          </tr>
        </table>

        <h3>Реальні кейси впровадження</h3>

        <h4>Google BeyondCorp</h4>
        <p>Google — один з піонерів Zero Trust. Після атаки Operation Aurora у 2009 році компанія розпочала внутрішній проєкт BeyondCorp. Ключові елементи:</p>
        <ul>
          <li>Доступ до внутрішніх ресурсів без VPN</li>
          <li>Рішення на основі пристрою, користувача та контексту</li>
          <li>Всі внутрішні додатки доступні через public URLs</li>
          <li>Безперервна оцінка довіри протягом сесії</li>
        </ul>
        <p>Результат: покращена безпека, кращий user experience, можливість працювати з будь-якого місця без VPN.</p>

        <h4>Netflix</h4>
        <p>Netflix впровадив "Zero Trust Security Model" для своєї AWS-інфраструктури:</p>
        <ul>
          <li>Кожен мікросервіс має унікальну ідентичність</li>
          <li>mTLS між усіма сервісами</li>
          <li>Fine-grained access control на рівні API</li>
          <li>Автоматизоване управління сертифікатами (Lemur)</li>
        </ul>

        <h4>Приклад впровадження для середньої компанії</h4>
        <p>Типовий план для компанії на 500-1000 співробітників:</p>
        <ol>
          <li><strong>Квартал 1:</strong> Впровадження MFA для всіх користувачів, SSO для cloud-додатків</li>
          <li><strong>Квартал 2:</strong> Conditional Access для критичних додатків, device compliance policies</li>
          <li><strong>Квартал 3:</strong> Мікросегментація cloud workloads, ZTNA для legacy-додатків</li>
          <li><strong>Квартал 4:</strong> Service-to-service mTLS, automated policy enforcement</li>
          <li><strong>Рік 2+:</strong> Continuous improvement, ML-based anomaly detection</li>
        </ol>

        <h3>Виклики та помилки при впровадженні</h3>

        <h4>Типові помилки</h4>
        <ul>
          <li><strong>Спроба зробити все одразу:</strong> Zero Trust — марафон, не спринт. Поетапний підхід критичний.</li>
          <li><strong>Ігнорування user experience:</strong> Якщо безпека заважає працювати, користувачі знайдуть способи її обійти.</li>
          <li><strong>Недостатній моніторинг:</strong> Без видимості ви не знаєте, чи працюють ваші політики.</li>
          <li><strong>Забути про legacy-системи:</strong> Старі системи часто найбільш вразливі та потребують уваги.</li>
          <li><strong>Відсутність підтримки керівництва:</strong> Zero Trust потребує бюджету та організаційних змін.</li>
        </ul>

        <h4>Ключові фактори успіху</h4>
        <ul>
          <li><strong>Executive sponsorship:</strong> Підтримка на рівні C-level</li>
          <li><strong>Cross-functional team:</strong> Security, IT, DevOps, бізнес</li>
          <li><strong>Clear metrics:</strong> Вимірювання прогресу (% покритих додатків, зменшення інцидентів)</li>
          <li><strong>User education:</strong> Пояснення "чому" допомагає adoption</li>
          <li><strong>Iterative approach:</strong> Швидкі ітерації та навчання на помилках</li>
        </ul>

        <h3>CISA Zero Trust Maturity Model</h3>
        <p>Агентство з кібербезпеки та інфраструктурної безпеки США (CISA) розробило модель зрілості Zero Trust, яка допомагає організаціям оцінити свій прогрес:</p>

        <!-- Diagram: CISA Zero Trust Maturity Model -->
        <div class="diagram">
          <div class="diagram-title">CISA Zero Trust Maturity Model: рівні зрілості</div>
          <svg viewBox="0 0 700 200" xmlns="http://www.w3.org/2000/svg">
            <!-- Maturity levels -->
            <g transform="translate(50, 40)">
              <rect fill="#fee2e2" stroke="#ef4444" x="0" y="0" width="140" height="100" rx="8"/>
              <text fill="#dc2626" x="70" y="25" text-anchor="middle" font-weight="600" font-size="12">Traditional</text>
              <text fill="#dc2626" x="70" y="45" text-anchor="middle" font-size="9">Периметрова</text>
              <text fill="#dc2626" x="70" y="57" text-anchor="middle" font-size="9">безпека</text>
              <text fill="#991b1b" x="70" y="75" text-anchor="middle" font-size="8">- Static policies</text>
              <text fill="#991b1b" x="70" y="87" text-anchor="middle" font-size="8">- Manual processes</text>
            </g>

            <g transform="translate(200, 40)">
              <rect fill="#fef3c7" stroke="#f59e0b" x="0" y="0" width="140" height="100" rx="8"/>
              <text fill="#b45309" x="70" y="25" text-anchor="middle" font-weight="600" font-size="12">Initial</text>
              <text fill="#b45309" x="70" y="45" text-anchor="middle" font-size="9">Початкова</text>
              <text fill="#b45309" x="70" y="57" text-anchor="middle" font-size="9">автоматизація</text>
              <text fill="#92400e" x="70" y="75" text-anchor="middle" font-size="8">- MFA впроваджено</text>
              <text fill="#92400e" x="70" y="87" text-anchor="middle" font-size="8">- Basic visibility</text>
            </g>

            <g transform="translate(350, 40)">
              <rect fill="#dbeafe" stroke="#3b82f6" x="0" y="0" width="140" height="100" rx="8"/>
              <text fill="#1d4ed8" x="70" y="25" text-anchor="middle" font-weight="600" font-size="12">Advanced</text>
              <text fill="#1d4ed8" x="70" y="45" text-anchor="middle" font-size="9">Централізоване</text>
              <text fill="#1d4ed8" x="70" y="57" text-anchor="middle" font-size="9">управління</text>
              <text fill="#1e40af" x="70" y="75" text-anchor="middle" font-size="8">- Cross-pillar integration</text>
              <text fill="#1e40af" x="70" y="87" text-anchor="middle" font-size="8">- Automated response</text>
            </g>

            <g transform="translate(500, 40)">
              <rect fill="#dcfce7" stroke="#22c55e" x="0" y="0" width="140" height="100" rx="8"/>
              <text fill="#166534" x="70" y="25" text-anchor="middle" font-weight="600" font-size="12">Optimal</text>
              <text fill="#166534" x="70" y="45" text-anchor="middle" font-size="9">Повна</text>
              <text fill="#166534" x="70" y="57" text-anchor="middle" font-size="9">автоматизація</text>
              <text fill="#14532d" x="70" y="75" text-anchor="middle" font-size="8">- AI/ML driven</text>
              <text fill="#14532d" x="70" y="87" text-anchor="middle" font-size="8">- Continuous optimization</text>
            </g>

            <!-- Progress arrow -->
            <line stroke="var(--accent)" stroke-width="3" x1="50" y1="160" x2="640" y2="160" marker-end="url(#arrow-zta)"/>
            <text class="diagram-text-small" x="350" y="180" text-anchor="middle">Шлях до Zero Trust зрілості</text>
          </svg>
          <div class="diagram-caption">Рис. 3.5. CISA Zero Trust Maturity Model визначає чотири рівні зрілості для оцінки прогресу організації</div>
        </div>

        <h4>П'ять стовпів CISA Maturity Model</h4>
        <p>CISA визначає п'ять ключових областей для оцінки:</p>
        <table>
          <tr>
            <th>Стовп</th>
            <th>Traditional</th>
            <th>Advanced</th>
            <th>Optimal</th>
          </tr>
          <tr>
            <td><strong>Identity</strong></td>
            <td>Passwords, basic SSO</td>
            <td>MFA, risk-based auth</td>
            <td>Continuous validation, passwordless</td>
          </tr>
          <tr>
            <td><strong>Devices</strong></td>
            <td>Limited visibility</td>
            <td>Device compliance checks</td>
            <td>Real-time posture assessment</td>
          </tr>
          <tr>
            <td><strong>Networks</strong></td>
            <td>Perimeter-based</td>
            <td>Microsegmentation</td>
            <td>Software-defined, encrypted</td>
          </tr>
          <tr>
            <td><strong>Applications</strong></td>
            <td>On-prem, VPN access</td>
            <td>Cloud-aware, ZTNA</td>
            <td>Integrated security, DevSecOps</td>
          </tr>
          <tr>
            <td><strong>Data</strong></td>
            <td>Static classification</td>
            <td>Dynamic DLP</td>
            <td>Automated protection, ML-driven</td>
          </tr>
        </table>

        <h3>ROI та метрики Zero Trust</h3>
        <p>Для обгрунтування інвестицій у Zero Trust важливо вимірювати результати:</p>

        <h4>Ключові метрики ефективності</h4>
        <ul>
          <li><strong>Mean Time to Detect (MTTD):</strong> Час виявлення загрози — має зменшуватися</li>
          <li><strong>Mean Time to Respond (MTTR):</strong> Час реагування — має зменшуватися</li>
          <li><strong>Blast Radius:</strong> Кількість систем, уражених при інциденті — має зменшуватися</li>
          <li><strong>Authentication Success Rate:</strong> Успішність легітимних автентифікацій</li>
          <li><strong>Policy Violations:</strong> Кількість порушень політик — має зменшуватися</li>
          <li><strong>Coverage:</strong> % систем під Zero Trust контролем</li>
        </ul>

        <h4>Приклад ROI калькуляції</h4>
        <pre>
Витрати без Zero Trust:
- Середній breach cost: $4.45M (IBM Report 2023)
- Ймовірність breach за рік: 25%
- Очікувані втрати: $4.45M × 0.25 = $1.11M/рік

Витрати на Zero Trust:
- Впровадження: $500K (одноразово)
- Операційні витрати: $200K/рік
- Зменшення ризику breach: 60%
- Нові очікувані втрати: $1.11M × 0.4 = $444K/рік

ROI за 3 роки:
- Економія: ($1.11M - $444K) × 3 = $2M
- Витрати: $500K + $200K × 3 = $1.1M
- Net benefit: $2M - $1.1M = $900K
- ROI: 82%
        </pre>
      </section>

      <section>
        <h2>3.5 ZTNA vs VPN: кінець ери VPN?</h2>

        <p>Одне з найпрактичніших застосувань Zero Trust — це заміна традиційного VPN на ZTNA (Zero Trust Network Access). Ця тема заслуговує окремого розгляду, бо стосується кожної організації, що має віддалених працівників.</p>

        <h3>Як працює традиційний VPN</h3>
        <p>VPN (Virtual Private Network) створює зашифрований тунель між пристроєм користувача та корпоративною мережею. Після підключення користувач потрапляє "всередину периметра" і отримує доступ до всіх ресурсів, наче він фізично в офісі.</p>

        <p><strong>Проблеми VPN:</strong></p>
        <ul>
          <li><strong>Надмірний доступ:</strong> підключившись до VPN, користувач бачить всю мережу, навіть ресурси, які йому не потрібні. Це порушує принцип least privilege.</li>
          <li><strong>Lateral movement:</strong> якщо пристрій скомпрометований, атакуючий через VPN потрапляє у всю корпоративну мережу.</li>
          <li><strong>Продуктивність:</strong> весь трафік маршрутизується через корпоративний дата-центр (backhauling), навіть якщо користувач працює з хмарним додатком. Це додає затримку.</li>
          <li><strong>Масштабування:</strong> VPN-концентратори мають обмежену пропускну здатність. Під час COVID-19 багато організацій зіткнулися з тим, що їхня VPN-інфраструктура не витримує навантаження від 100% віддалених працівників.</li>
          <li><strong>User experience:</strong> необхідність підключатися, вводити credentials, очікувати з'єднання — все це створює friction для користувачів.</li>
        </ul>

        <h3>Як працює ZTNA</h3>
        <p>ZTNA (Zero Trust Network Access) — це принципово інший підхід. Замість надання доступу до мережі, ZTNA надає доступ до конкретного додатку.</p>

        <p><strong>Принцип роботи:</strong></p>
        <ol>
          <li>Користувач відкриває браузер або agent і запитує доступ до конкретного додатку (наприклад, внутрішній HR-портал).</li>
          <li>ZTNA-сервіс (PEP) перехоплює запит та перевіряє: ідентичність (хто?), пристрій (чи compliant?), контекст (звідки? о котрій? який risk score?).</li>
          <li>Policy Engine приймає рішення: дозволити, заборонити, або вимагати step-up authentication.</li>
          <li>Якщо дозволено — створюється зашифрований тунель лише до цього конкретного додатку. Користувач не бачить решту мережі.</li>
        </ol>

        <p><strong>Ключова різниця:</strong> VPN дає доступ до мережі (network-level access). ZTNA дає доступ до додатку (application-level access). Мережа залишається невидимою.</p>

        <h3>Порівняння VPN та ZTNA</h3>
        <table>
          <tr>
            <th>Критерій</th>
            <th>Традиційний VPN</th>
            <th>ZTNA</th>
          </tr>
          <tr>
            <td><strong>Рівень доступу</strong></td>
            <td>Мережевий (весь subnet)</td>
            <td>Application-level (конкретний додаток)</td>
          </tr>
          <tr>
            <td><strong>Принцип</strong></td>
            <td>"Підключився — довірений"</td>
            <td>"Перевіряємо кожен запит"</td>
          </tr>
          <tr>
            <td><strong>Lateral movement</strong></td>
            <td>Можливий</td>
            <td>Неможливий (додатки ізольовані)</td>
          </tr>
          <tr>
            <td><strong>Device posture</strong></td>
            <td>Зазвичай не перевіряється</td>
            <td>Обов'язкова перевірка</td>
          </tr>
          <tr>
            <td><strong>Масштабування</strong></td>
            <td>Обмежене апаратно</td>
            <td>Cloud-native, практично безмежне</td>
          </tr>
          <tr>
            <td><strong>UX</strong></td>
            <td>Потрібне підключення</td>
            <td>Прозорий — як відкрити веб-сайт</td>
          </tr>
          <tr>
            <td><strong>Видимість</strong></td>
            <td>Мережевий трафік</td>
            <td>Application-level + user behavior</td>
          </tr>
          <tr>
            <td><strong>Cloud-ready</strong></td>
            <td>Backhauling через дата-центр</td>
            <td>Прямий доступ через cloud edge</td>
          </tr>
        </table>

        <h3>ZTNA-рішення на ринку</h3>
        <ul>
          <li><strong>Хмарні провайдери:</strong> AWS Verified Access, Azure Entra Private Access, Google IAP</li>
          <li><strong>Спеціалізовані рішення:</strong> Zscaler Private Access (ZPA), Cloudflare Access, Palo Alto Prisma Access</li>
          <li><strong>Open-source:</strong> Teleport, Boundary (HashiCorp), Tailscale (WireGuard-based)</li>
        </ul>

        <h3>Чи мертвий VPN?</h3>
        <p>Ні, не повністю. VPN все ще має місце в певних сценаріях:</p>
        <ul>
          <li><strong>Legacy-додатки</strong> — старі системи, що не підтримують modern authentication, можуть потребувати VPN.</li>
          <li><strong>Мережевий доступ</strong> — якщо потрібен доступ не до додатку, а до самої мережі (наприклад, для мережевого адміністрування).</li>
          <li><strong>Перехідний період</strong> — більшість організацій впроваджують ZTNA поступово, зберігаючи VPN як fallback.</li>
        </ul>
        <p>Рекомендований підхід: почніть з ZTNA для нових додатків і cloud-ресурсів, поступово мігруйте legacy з VPN на ZTNA. Кінцева мета — повна відмова від VPN.</p>
      </section>

      <section>
        <h2>Висновки</h2>
        <p>Zero Trust Architecture — це не продукт, який можна купити, і не проєкт, який можна завершити. Це філософія безпеки та безперервний процес удосконалення.</p>

        <h3>Ключові тези</h3>
        <ul>
          <li><strong>"Never trust, always verify"</strong> — кожен запит перевіряється незалежно від джерела</li>
          <li><strong>Ідентичність — новий периметр:</strong> рішення базуються на "хто", а не "звідки"</li>
          <li><strong>Мінімальні привілеї:</strong> доступ тільки до того, що потрібно, і тільки коли потрібно</li>
          <li><strong>Assume breach:</strong> проєктуйте так, ніби зловмисник вже всередині</li>
          <li><strong>Безперервний моніторинг:</strong> довіра оцінюється постійно, не одноразово</li>
        </ul>

        <h3>Наступні кроки</h3>
        <p>Для початку впровадження Zero Trust у вашій організації:</p>
        <ol>
          <li>Проведіть аудит поточного стану: активи, ідентичності, потоки даних</li>
          <li>Впровадьте MFA для всіх користувачів — це найбільш ефективний "quick win"</li>
          <li>Класифікуйте дані та визначте "protect surfaces"</li>
          <li>Почніть з пілота на некритичній системі</li>
          <li>Вимірюйте, навчайтеся, ітеруйте</li>
        </ol>

        <h3>Рекомендовані ресурси для подальшого вивчення</h3>
        <ul>
          <li><a href="https://csrc.nist.gov/publications/detail/sp/800-207/final" target="_blank" rel="noopener">NIST SP 800-207</a> — Zero Trust Architecture — офіційний стандарт, обов'язковий до прочитання</li>
          <li><a href="https://www.cisa.gov/zero-trust-maturity-model" target="_blank" rel="noopener">CISA Zero Trust Maturity Model</a> — практичний гайд для оцінки зрілості організації</li>
          <li><a href="https://cloud.google.com/beyondcorp" target="_blank" rel="noopener">Google BeyondCorp</a> — документація та case study впровадження Zero Trust у Google</li>
          <li><a href="https://www.microsoft.com/en-us/security/business/zero-trust" target="_blank" rel="noopener">Microsoft Zero Trust</a> — комплексний гайд по Zero Trust від Microsoft</li>
          <li><a href="https://aws.amazon.com/security/zero-trust/" target="_blank" rel="noopener">AWS Zero Trust</a> — підхід AWS до побудови Zero Trust Architecture</li>
          <li><a href="https://research.google/pubs/pub43231/" target="_blank" rel="noopener">BeyondCorp: A New Approach to Enterprise Security</a> — оригінальна стаття Google (2014)</li>
          <li><a href="https://www.forrester.com/research/zero-trust/" target="_blank" rel="noopener">Forrester Zero Trust</a> — ZTX Framework від Forrester (автори терміну Zero Trust)</li>
          <li><a href="https://istio.io/latest/docs/concepts/security/" target="_blank" rel="noopener">Istio Security</a> — документація по mTLS та authorization в service mesh</li>
        </ul>
      </section>

      <section>
        <h2>Питання для самоперевірки</h2>
        <ol>
          <li>Чим Zero Trust відрізняється від традиційної периметрової безпеки? Чому периметрова модель більше не працює?</li>
          <li>Назвіть та поясніть сім принципів Zero Trust за NIST SP 800-207.</li>
          <li>Яку роль виконують Policy Engine, Policy Administrator та Policy Enforcement Point? Як вони взаємодіють?</li>
          <li>Чому MFA є обов'язковим компонентом Zero Trust? Чи достатньо лише MFA?</li>
          <li>Що таке мікросегментація і як вона підтримує принципи Zero Trust? Порівняйте network-based та service mesh підходи.</li>
          <li>Як реалізувати автентифікацію service-to-service у хмарному середовищі? Що таке SPIFFE/SPIRE?</li>
          <li>Назвіть основні етапи впровадження Zero Trust в організації. Чому не можна "зробити все одразу"?</li>
          <li>Які типові помилки при впровадженні Zero Trust? Наведіть приклади.</li>
          <li>Порівняйте ZTNA та VPN. У яких сценаріях VPN все ще доцільний?</li>
          <li>Як Azure Conditional Access реалізує принципи Zero Trust? Які фактори враховуються при прийнятті рішення?</li>
          <li>Що таке CISA Zero Trust Maturity Model? Опишіть чотири рівні зрілості.</li>
          <li>Як Google BeyondCorp змінив підхід до корпоративної безпеки? Які уроки з цього можна взяти?</li>
        </ol>
      </section>

      <section>
        <h3>Практичне завдання</h3>
        <p>Ваша компанія (300 співробітників, 50 з яких працюють віддалено) планує впровадити Zero Trust. Поточний стан: VPN для віддаленого доступу, плоска внутрішня мережа, basic Active Directory, немає MFA.</p>

        <p><strong>Завдання:</strong></p>
        <ol>
          <li><strong>Оцінка зрілості:</strong> Використовуючи CISA Zero Trust Maturity Model, оцініть поточний стан компанії за п'ятьма стовпами (Identity, Devices, Networks, Applications, Data). Для кожного стовпа визначте поточний рівень та цільовий рівень.</li>
          <li><strong>Roadmap впровадження:</strong> Складіть план впровадження Zero Trust на 4 квартали. Для кожного етапу визначте: конкретні дії, сервіси/інструменти, метрики успіху.</li>
          <li><strong>ZTNA migration:</strong> Спроєктуйте план міграції з VPN на ZTNA для 5 ключових додатків (HR-портал, CRM, фінансова система, internal wiki, CI/CD pipeline). Для кожного визначте: підхід до міграції, ZTNA-рішення, rollback plan.</li>
          <li><strong>Мікросегментація:</strong> Напишіть Kubernetes Network Policy, яка реалізує наступні правила: frontend може звертатися лише до backend на порт 8080; backend може звертатися лише до database на порт 5432; database не може ініціювати з'єднання ні до кого.</li>
        </ol>
      </section>

      <section>
        <h3>Глосарій ключових термінів</h3>
        <ul>
          <li><strong>Zero Trust</strong> — модель безпеки, що базується на принципі "never trust, always verify", де кожен запит перевіряється незалежно від джерела</li>
          <li><strong>ZTA</strong> — Zero Trust Architecture, архітектурний підхід до реалізації принципів Zero Trust</li>
          <li><strong>ZTNA</strong> — Zero Trust Network Access, технологія, що замінює VPN, надаючи доступ до конкретних додатків замість мережі</li>
          <li><strong>PEP</strong> — Policy Enforcement Point, точка застосування політик, через яку проходять усі запити до ресурсів</li>
          <li><strong>PDP</strong> — Policy Decision Point, точка прийняття рішень, що містить Policy Engine та Policy Administrator</li>
          <li><strong>PE</strong> — Policy Engine, "мозок" ZTA, що аналізує контекст та приймає рішення про доступ</li>
          <li><strong>PA</strong> — Policy Administrator, виконавець рішень Policy Engine</li>
          <li><strong>mTLS</strong> — mutual TLS, двостороння TLS-автентифікація, де обидві сторони перевіряють сертифікати одна одної</li>
          <li><strong>Мікросегментація</strong> — розділення мережі на ізольовані сегменти з індивідуальними політиками безпеки</li>
          <li><strong>Lateral movement</strong> — переміщення атакуючого по внутрішній мережі після початкового проникнення</li>
          <li><strong>Conditional Access</strong> — policy engine Azure, що приймає рішення про доступ на основі контексту (user, device, location, risk)</li>
          <li><strong>BeyondCorp</strong> — реалізація Zero Trust від Google, піонерський проєкт що розпочався після Operation Aurora (2009)</li>
          <li><strong>IAP</strong> — Identity-Aware Proxy, сервіс GCP для Zero Trust доступу до додатків</li>
          <li><strong>Service Mesh</strong> — інфраструктурний рівень для управління service-to-service комунікацією (Istio, Linkerd)</li>
          <li><strong>SPIFFE/SPIRE</strong> — стандарт та імплементація для ідентичності workloads у Zero Trust середовищі</li>
          <li><strong>CISA</strong> — Cybersecurity and Infrastructure Security Agency, агентство США з кібербезпеки</li>
          <li><strong>Assume breach</strong> — принцип проєктування безпеки з припущенням, що зловмисник вже присутній у мережі</li>
          <li><strong>Device posture</strong> — стан безпеки пристрою (оновлення ОС, шифрування диску, антивірус), що враховується при прийнятті рішень ZTA</li>
        </ul>
      </section>

    </article>

    <footer id="footer"></footer>
  </main>

  <script src="../../js/main.js"></script>

</body>
</html>
